.. highlight:: python
   :linenothreshold: 0

Installing and configuring Zato components
==========================================

.. note ::

  Thoroughly familiarize yourself with the
  :doc:`high-level overview <../../../intro/overview-high-level>`
  and
  :doc:`the technical one <../../../intro/overview-tech>`
  as well with 
  :doc:`Zato's architecture <../../../architecture/overview>`,
  :doc:`OS-level and application users <../../../security/users>`
  and 
  :doc:`the attack surface <../../../security/attack-surface>`
  before you start to install and configure Zato components.
  
  It's also highly recommeded that you :doc:`go through the tutorial first <../../../tutorial/step1>`.

Overview
--------

* Each Zato environment is comprised of one or more clusters
* Clusters store their configuration in an SQL ODB
* Each cluster has a load-balancer
* A web admin console is needed to manage a cluster however a single web admin instance can be used
  to administer more than one cluster
* Each cluster has zero or more servers
* Incoming and outgoing connections are handled by servers and certain types of
  protocols - AMQP, JMS WebSphere MQ and Zero MQ - require separate connector
  processes to handle the traffic. The connectors are started
  and managed automatically, they don't need manual configuration.

.. note ::

  Cluster is a logical being - its mere physical manifestation is that it has
  its own configuration in the ODB. However, servers, web-admin, load-balancer,
  connectors are all components that actually start operating system-level processes,
  write out log entries and otherwise behave like objects that need to be administered.

Creating a new environment
--------------------------

To set up a completely new Zato environment you need to:

* Make sure Redis is installed and configured to allow access for Zato
* Ensure an SQL database is installed and a schema/username for Zato is created.
  Supported databases are:

  * PostgreSQL 9.x
  * Oracle 11.2.x
  
* Make a new cluster by:

  * Using a :doc:`a quickstart cluster <../../cli/quickstart>`
  * Manually creating each of the components needed:
    
    * SQL ODB
    * Cluster's config
    * Web admin
    * Load-balancer
    * Servers
    
    SQL ODB and a cluster's config need to me be created first and in that order,
    the rest can be installed in any order.
    
Read more
---------

Subsequent chapters present information on how to install each of the Zato components along
with a discussion on their config files.

================== ====================================================== ====================================================================
Component          Install chapter                                        Configure chapter 
================== ====================================================== ====================================================================
Web admin          :doc:`How to install <./install-web-admin>`            :doc:`How to configure <./config-web-admin>`
Server             :doc:`How to install <./install-server>`               :doc:`How to configure <./config-server>`
Cluster's config   :doc:`How to install <./install-cluster>`              :doc:`Documented along with other web admin features <TODO>`
Quickstart cluster A quickstart cluster is a shortcut way                 Not applicable
                   to create a working Zato environment 
                   as :doc:`described here <../../cli/quickstart>`
Load-balancer      :doc:`How to install <./install-lb>`                   :doc:`How to configure <./config-lb>`
Connectors      
SQL ODB            :doc:`How to install <./install-odb>`                  Not applicable - once created, the ODB
                                                                          needs no configuration
Redis broker       `The Redis project <http://redis.io>`_                 Not applicable
                   provides information on how to                       
                   install the software
CA                 :doc:`How to install <./install->`                     Not applicable - the CA should be used
                                                                          only for development clusters, it's
                                                                          recommeded you don't reconfigure it
================== ====================================================== ====================================================================
