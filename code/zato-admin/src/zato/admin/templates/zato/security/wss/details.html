{% extends "zato/index.html" %}

{% block extra_css %}
    <style type="text/css">
        .yui-pe .yui-pe-content {
            display:none;
        }
    </style>

{% endblock %}

{% block extra_js %}
    <script type="text/javascript" src="/static/yui/build/yuiloader/yuiloader-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/element/element-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/connection/connection-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/container/container-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/menu/menu-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/button/button-min.js"></script>

    {% comment %} Validation framework {% endcomment %}
    <script type="text/javascript" src="/static/js/prototype/prototype.js"></script>
    <script type="text/javascript" src="/static/js/validation/validation.js"></script>

    {% comment %} Scriptaculous effects {% endcomment %}
    <script type="text/javascript" src="/static/js/effects.js"></script>

    {% comment %} Common JS {% endcomment %}
    <script type="text/javascript" src="/static/js/common.js"></script>

    {% comment %} Scheduler JS {% endcomment %}
    <script type="text/javascript" src="/static/js/security/wss.js"></script>

    </script>

{% endblock %}

{% block content %}
<h2 class="zato">WS-Security</h1>

<div id="user-message-div" style="display:none"><pre id="user-message"></pre><br/><br/></div>

<div class="item-details">

    <div class="item-details-header">
        <a class="common" href="{% url security-wss %}?server={{ server.id }}">{{ server.name }} {{ server.address }}</a>
        :
        {{ definition.name }}
    </div>
    <div class="item-details-body">

        <div id="create-one_time" class="yui-pe-content">
            <div class="hd"><a class="common" href="#">Change password</a><br/><br/></div>
            <div class="bd">
                <form id="update_definition_form">
                    <table class="form-data standalone-form-data" style="border:1px solid #999999">

                        <tr>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Name</td>
                            <td style="text-align:left">{{ definition_form.name }}</td>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Username</td>
                            <td style="text-align:left">{{ definition_form.username }}</td>
                        </tr>

                        <tr>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Reject empty nonce creation timestamp</td>
                            <td style="text-align:left">{{ definition_form.reject_empty_nonce_ts }}</td>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Reject stale username tokens</td>
                            <td style="text-align:left">{{ definition_form.reject_stale_username }}</td>
                        </tr>

                        <tr>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Expiry limit (s)</td>
                            <td style="text-align:left">{{ definition_form.expiry_limit }}</td>
                            <td style="vertical-align:middle;width:15%;background-color:#cccccc">Nonce freshness time (s)</td>
                            <td style="text-align:left">{{ definition_form.nonce_freshness }}</td>
                        </tr>

                        <tr>
                            <td colspan="4" style="text-align:right">
                                {{ definition_form.id }}
                                {{ definition_form.original_name }}
                                <a id="update_definition_submit" href="#">Submit</a>
                            </td>
                        </tr>

                    </table>
                </form>

            </div>

            <div>
                <strong>Related services on server <a class="common" href="{% url service %}?server={{ server.id }}">{{ server.name }} {{ server.address }}</a></strong>

                {% if services %}
                {% else %}
                    <ol style="padding-left:30px">
                    <li style="padding:3px;padding-top:10px"><a class="common" href="#">zato.server.service.internal.scheduler.CreateJob </a></li>
                    <li style="padding:3px"><a class="common" href="#">zato.server.service.internal.scheduler.CreateJob </a></li>
                    <li style="padding:3px"><a class="common" href="#">zato.server.service.internal.scheduler.CreateJob </a></li>
                    <li style="padding:3px"><a class="common" href="#">zato.server.service.internal.scheduler.CreateJob </a></li>
                    <li style="padding:3px"><a class="common" href="#">zato.server.service.internal.scheduler.CreateJob </a></li>
                    </ol>
                {% endif %}

            </div>
        </div>
    </div>
</div>

<div id="content"></div>


{% endblock %}
