{% extends "zato/index.html" %}

{% block extra_css %}
    <style type="text/css">
        .yui-pe .yui-pe-content {
            display:none;
        }
    </style>

{% endblock %}

{% block extra_js %}
    <script type="text/javascript" src="/static/yui/build/yuiloader/yuiloader-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/element/element-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/container/container-min.js"></script>
    <script type="text/javascript" src="/static/yui/build/button/button-min.js"></script>


    <script type="text/javascript" src="/static/js/common.js"></script>
    <script type="text/javascript" src="/static/js/load_balancer.js"></script>

    </script>


{% endblock %}

{% block content %}
<h2 class="zato">Load balancer : Remote commands</h1>

<a href="{% url lb-manage cluster.id %}" class="common">Config GUI view</a>
<a href="{% url lb-manage-source-code cluster.id %}" class="common">Config source code view</a>

{% if haproxy_alive.status %}
    {% if cluster.stats_uri %}
        <a href="http://{{ cluster.lb_host }}:{{ cluster.stats_port }}{{ cluster.stats_uri }}" class="common">Statistics</a>
    {% endif %}
{% endif %}

<br/><br/>

<div class="item-details">

    <div class="item-details-header">
        Cluster {{ cluster.name }}
    </div>
    <div class="item-details-body">

        <div class="yui-pe-content">
            <div class="bd">
                <form action="{% url lb-remote-command cluster.id %}" method="post">
                    <table class="form-data" border="0">
                        <tr>
                            <td style="width:30%;background-color:#c0c0dd">
                                command: {{ form.command }}
                            </td>
                            <td style="width:15%;background-color:#c0c0dd">
                                timeout: {{ form.timeout }}
                            </td>
                            <td style="width:20%;background-color:#c0c0dd">
                                parameters: {{ form.extra }}
                            </td>
                            <td style="width:20%;text-align:left;background-color:#c0c0dd">
                                <input id="execute" type="submit" name="execute"
                                    value="Execute command">
                            </td>
                        </tr>

                        <tr>
                            <td colspan="4">
                                {{ form.result }}
                            </td>
                        </tr>

                    </table>
                </form>
            </div>
        </div>

    </div>

</div>


{% endblock %}
